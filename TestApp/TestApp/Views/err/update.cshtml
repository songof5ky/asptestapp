
@{
    ViewData["Title"] = "Update";
}

<h2>Edit</h2>

@model TestApp.ViewModels.editClass
@{
    ViewBag.Title = "Редактирование ошибки";
}
 
<h3>Ошибка @Model.Err.id</h3>
<form asp-action="Update" asp-controller="err" asp-route-id="@Model.Err.id">
    <input type="hidden" asp-for="Err.id" class="form-control" />
    <div>

        <select id="status" name="status" required>

            
            <option value=""> Статус</option>
            <option>Открытая</option>
            <option>Решенная</option>
            <option>Закрытая</option>
        </select>
    </div>
    <div class="form-group">
        <label asp-for="buf" class="control-label">Комментарий</label><br />
        <textarea id="buf" cols="20" rows="2" required asp-for="buf" runat="server"></textarea>        
    </div>

    <div class="form-group">
        <input type="submit" value="Send" class="btn btn-default" />
    </div>

    <div>
        <div>
            <h3>История ошибки</h3>
            <table class="table">


                <tr>
                    <th>
                        Дата
                    </th>
                    <th>
                        Состояние
                    </th>
                    <th>
                        Пользователь
                    </th>
                    <th>
                        Комментарий
                    </th>
                </tr>


                @foreach (var item in Model.ErHs)
                {
                    <tr>

                        <td>@item.date</td>


                        <td>@item.act</td>


                        <td>@item.user_id</td>

                        <td>@item.comnt</td>
                    </tr>
                }
            </table>

        </div>
</form>